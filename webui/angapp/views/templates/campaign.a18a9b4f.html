<div class="mainbody-wrap" ng-controller="CampaignCtrl" ng-cloak><div class="background-wrap" id="campaign-details"><div class="ui page grid"><div class="ui column"><div ng-include src="'views/templates/partials/response-message.a18a9b4f.html'"></div><div class="ui warning message" ng-show="!campaign.ever_published && campaign.created"><h2 class="ui header center aligned" translate>campaign_page_notapproved_message</h2></div><div class="ui warning message" ng-show="campaign.ever_published && campaign.campaign_started=='f'"><h2 class="ui header center aligned" translate>campaign_page_notstarted_message</h2></div><div class="campaign-action" ng-if="campaign != null && user.id == campaign.managers[0].id || user.person_type_id == 1"><a ng-href="getstarted/{{campaign_id}}" class="ui button">Edit Campaign</a></div><div class="campaign-top-header ui two column stackable grid"><div class="campaign-description nine wide column"><div class="mobile-only img-wrap campaign-image"><embed-video ng-if="campaign.video && campaign.video_type != 'custom'" class="campaign-video" ng-href="{{campaign.video}}"></embed-video><video ng-if="campaign.video && campaign.video_type == 'custom'" style="width:100%;height:100%;background:#000000" id="custom-video-player" controls><source ng-src="{{campaign.video}}"></video><img ng-hide="campaign.video" ng-if="campaign.files.length" ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.thumbnail} | orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_detail_large/' + file.path_external}}" class="ui image"> <img ng-hide="campaign.video" ng-if="noMainImage" src="images/placeholder-images/placeholder_campaign.png" class="ui image"></div><h2 class="campaign-user-business" ng-click="showManager()" ng-if="!site_campaign_hide_creator_info && isCreatorNameOnly"><span>{{campaign.managers[0].first_name}} {{campaign.managers[0].last_name}}</span></h2><h1 class="campaign-name ui header">{{campaign.name}}</h1><p class="campaign-blurb" ng-if="!isBlurbInSidebar" html-render html="campaign.blurb"></p><div class="ui campaign-link list" ng-show="campaign.cities"><div class="item-wrap"><i class="map marker icon"></i> <a ng-repeat="city in campaign.cities" ng-href="explore?location={{city.id}}" class="city-link text-link">{{city.city_full}}{{$last ? '' : ', '}}</a></div></div><div class="ui campaign-link list" ng-show="campaign.categories"><div class="item-wrap"><i class="tags icon"></i> <a ng-repeat="category in campaign.categories" ng-href="explore?category={{category.id}}" class="category-link text-link">{{category.name}}{{$last ? '' : ', '}}</a></div></div><div class="mobile-only"><div class="funding-wrap"><div class="ui funding-info list"><div class="item r-mode"><strong class="c-raise-mode"><div class="ui label black" translate>campaign_pledge_raise_mode</div><span ng-if="campaign.raise_mode_id == 1" translate>campaign_pledge_all_nothing </span><span ng-if="campaign.raise_mode_id == 2" translate>campaign_pledge_keep_all</span></strong></div><div class="item item-backer"><div class="item item-value"><span class="c-value">{{backer_length}}</span></div><div class="item item-label"><em class="c-meta" ng-show="backer_length != 1">{{'campaign_pledge_campaign_backer' | translate}}</em> <em class="c-meta" ng-show="backer_length == 1">{{'campaign_pledge_campaign_backer_singular' | translate}}</em></div></div><div class="item item-funded"><div class="item-value" ng-if="campaign.funded_amount != null"><span class="c-value" ng-bind-html="campaign.funded_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span></div><div class="item item-label"><em>{{'campaign_pledge_campaign_raisedof' | translate}} <span ng-hide="dateInPast(campaign.ends,campaign.seconds_remaining)">{{duration}} {{dtype | translate}}</span><span ng-hide="!dateInPast(campaign.ends,campaign.seconds_remaining)"> {{duration}} {{dtype | translate}}</span></em></div></div><div class="item item-progress" ng-if="!(progressHide)"><div class="bar-progress ui indicating progress" data-percent="{{temp = campaign.funded_amount / (campaign.funding_goal || 1) * 100; temp >= 100 ? 100 : temp < 1 ? 0 : temp}}"><div class="bar"></div></div><div class="item item-value"><span class="c-value" ng-show="(campaign.funded_amount / (campaign.funding_goal || 1) * 100) < 99 || (campaign.funded_amount / (campaign.funding_goal || 1) * 100) > 100" ng-bind="(campaign.funded_amount / (campaign.funding_goal || 1) * 100 | number:0) + '%'"></span> <span class="c-value" ng-show="(campaign.funded_amount / (campaign.funding_goal || 1) * 100) > 99 && (campaign.funded_amount / (campaign.funding_goal || 1) * 100) < 100">99% </span><span class="c-value" ng-show="(campaign.funded_amount / (campaign.funding_goal || 1) * 100) == 100">100%</span></div><div class="item item-label"><em>{{'campaign_pledge_campaign_funded'|translate}} <span ng-bind-html="campaign.funding_goal | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span> {{'campaign_pledge_campaign_raisedof_goal'| translate}}</em></div></div><div class="item" id="progress-status" ng-if="public_settings.site_campaign_state_hide"><div ng-if="campaign.settings.state_current"><h2 class="status-title">{{campaign.settings.state_current.title}}</h2><img class="ui image" ng-src="{{server + '/image/campaign_progress_status/' + campaign.settings.state_current.path}}" alt="state_image"></div></div><div class="ui positive message charity-amount" ng-if="public_settings.site_campaign_charity_helper_enable && campaign.charity_id">{{'campaign_pledge_gift_aid_collected'|translate}} <span ng-bind-html="campaign.charity_helper_amount_total | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span></div><div ng-show="campaign.runtime_days && public_settings.site_theme_campaign_show_start_date" class="f-runtime"><div class="item" ng-show="campaign.campaign_started=='t' && campaign.ever_published"><span class="c-value" ng-if="dateInPast(campaign.ends,campaign.seconds_remaining)" translate="campaign_pledge_closed"></span> <span ng-show="campaign.ends!=null" ng-if="!campaign.settings.days_to_go_hide" class="c-value" ng-class="{'time-closed' : dateInPast(campaign.ends,campaign.seconds_remaining)}">{{days_rem }} {{day_text | translate}}</span></div><div class="item f-duration"><div ng-if="!dateInPast(campaign.ends,campaign.seconds_remaining)"><div ng-show="public_settings.site_theme_campaign_show_start_date"><div class="campaign-start-date"><span ng-show="campaign.campaign_started=='t'">{{'campaign_pledge_campaign_start_date' | translate}}</span> <span ng-show="campaign.campaign_started=='f'">{{'campaign_pledge_campaign_start_date1' | translate}}</span> <span ng-hide="public_settings.site_theme_campaign_display_iso_date">{{campaign.starts_date_time | formatDate:"MMM DD YYYY"}} {{campaign.starts_date_time | formatDate:"h:mm A"}} {{campaign.timezoneText}} </span><span ng-show="public_settings.site_theme_campaign_display_iso_date" class="alt-data-layout">{{campaign.starts_date_time | formatDate:"YYYY/MM/DD"}} {{campaign.starts_date_time | formatDate:"H:mm"}} {{campaign.timezoneText}}</span></div><div class="campaign-end-date"><div ng-hide="public_settings.site_theme_campaign_display_iso_date"><span ng-hide="campaign.ends==null">{{'campaign_pledge_campaign_end_date' | translate}} {{campaign.ends | formatDate:"MMM DD YYYY"}} {{campaign.ends | formatDate:"h:mm A"}} {{campaign.timezoneText}}</span></div><div ng-show="public_settings.site_theme_campaign_display_iso_date"><span class="alt-data-layout" ng-hide="campaign.ends==null">{{'campaign_pledge_campaign_end_date' | translate}} {{campaign.ends | formatDate:"YYYY/MM/DD"}} {{campaign.ends | formatDate:"H:mm"}} {{campaign.timezoneText}}</span></div></div></div><div ng-show="!public_settings.site_theme_campaign_display_iso_date && campaign.ends"><span ng-show="!public_settings.site_theme_campaign_show_start_date">{{'campaign_pledge_campaign_end_date_show' | translate}} {{campaign.ends | formatDate:"MMM DD YYYY"}} {{campaign.timezoneText}}.</span></div><div ng-show="public_settings.site_theme_campaign_display_iso_date && campaign.ends"><span ng-show="!public_settings.site_theme_campaign_show_start_date">{{'campaign_pledge_campaign_end_date_show' | translate}} {{campaign.ends | formatDate:"YYYY/MM/DD"}} {{campaign.timezoneText}}.</span></div></div><div class="closed-msg" ng-if="dateInPast(campaign.ends,campaign.seconds_remaining)">{{'campaign_pledge_campaign_end_message' | translate}}</div></div></div><span ng-show="campaign.ends == null && public_settings.site_theme_campaign_show_start_date" class="item f-duration" style="font-weight: 600;font-size: larger" translate="campaign_pledge_campaign_Continuous_Campaign"></span></div><a class="fluid ui massive button contribute-button" ng-class="{'disabled': dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || thresholdallowedbtn || campaign.campaign_started=='f'}" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || thresholdallowedbtn|| miniContributeReward()" id="pledgelink" ng-show=" !campaign.pledges || public_settings.site_theme_campaign_min_button_show ||campaign.entry_status_id == 10 || campaign.entry_status_id == 1"><span ng-show="!customText.toggle">{{'campaign_pledge_campaign_contribute'| translate}}</span><span ng-show="customText.toggle">{{contribution}}</span><div class="ui label" style="background: none" ng-show="!public_settings.site_theme_campaign_hide_min_contribute_message">{{'campaign_pledge_campaign_contribute_minimum'| translate}} <span ng-bind-html=" minamount| formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span></div></a></div><div id="scroll-to-rewards" ng-if="campaign.pledges" ng-click="scrollToRewards()" class="ui huge fluid green button">{{'scroll_to_rewards_label' | translate}}</div><div class="admin-explainer-text ui accordion" ng-Accord ng-if="campaign.settings.explainer_text.message && campaign.settings.explainer_text.title && isExplainerTextEnabled"><h3 class="sidebar-heading ui inverted block header title">{{'admin_only_explainer_text_title_default' | translate}}<i class="collapse-indicator icon"></i></h3><div class="content" ng-bind-html="campaign.settings.explainer_text.message"></div></div><div id="sm-share-wrap" class="ui basic segment center aligned" ng-if="is_sharing_available"><div class="share-campaign ui top left pointing dropdown green button huge fluid" style="text-align:center"><span class="text" translate>campaign_page_share_this_campaign</span><div class="menu"><div class="a2a_kit a2a_kit_size_32 a2a_default_style social-media-share" data-a2a-url="{{shortenedUrl}}" ng-show="!share"><a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_email"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_dd" href="https://www.addtoany.com/share_save"></a></div><script type="text/javascript" src="https://static.addtoany.com/menu/page.js"></script></div></div><div ng-if="!moveEmbedBelowCommentsAccordionMobile" class="embed-campaign ui floating dropdown labeled icon button huge fluid" id="mob-view1"><i class="code icon"></i> <span class="text" translate>campaign_page_embed</span><div class="menu"><textarea rows="4" cols="50" ng-show="!isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}" frameborder="0" scrolling="no"> </iframe></textarea><textarea rows="4" cols="50" ng-show="isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}?privatepath={{currentLoc}}" frameborder="0" scrolling="no"> </iframe></textarea></div></div></div><div ng-show="campaign.campaign_links.length" class="campaign-links-wrap"><div class="ui center aligned bulleted horizontal list campaign-links"><a class="item" ng-repeat="link in campaign.campaign_links | limitTo: 5" ng-href="{{link.uri}}" target="_blank"><span ng-if="link.uri_text">{{link.uri_text}}</span><span ng-if="!link.uri_text">{{link.uri}}</span></a></div></div></div><div class="campaign-top-header-image" ng-if="campaign.files.length"><a ng-if="campaign.settings.top_header_link" ng-href="{{campaign.settings.top_header_link}}"><img ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.top_header} | orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_top_header_image/' + file.path_external}}" class="ui image"> </a><img ng-if="!campaign.settings.top_header_link" ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.top_header} | orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_top_header_image/' + file.path_external}}" class="ui image"></div></div><div class="right-col seven wide column" ng-show="!isCreatorInfoOnMainBlock || isCreatorInfoTopBottomOfCampaign"><div class="cp-menu-tabs ui top attached tabular menu" ng-show="!site_campaign_hide_creator_info && !isCreatorNameOnly"><a class="item" data-tab="personal-profile" ng-class="{active: campaign.profile_type_id == 1 && !campaign.toggle_profile_type_view_advance || !campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 2)|| (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.profile_type_id == 1)}" ng-show="!(campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1)" translate>campaign_page_creator</a> <a class="item" data-tab="business-profile" ng-class="{active: campaign.profile_type_id == 2 && campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1)}" ng-show="(campaign.business_organizations && !campaign.toggle_profile_type_view_advance) || (campaign.toggle_profile_type_view_advance && campaign.business_organizations && (campaign.profile_type_view_id == 0 || campaign.profile_type_view_id == 1))" translate>campaign_page_company</a></div><div class="ui bottom attached tab" ng-class="{active: (campaign.profile_type_id == 1 && !campaign.toggle_profile_type_view_advance) || !campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 2) || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.profile_type_id == 1)}" ng-show="!site_campaign_hide_creator_info && !isCreatorNameOnly" data-tab="personal-profile"><div ng-repeat="manager in campaign.managers"><div class="campaign-user ui two column stackable grid"><div class="user-info-col ten wide column" ng-if="!site_campaign_hide_creator_info && !isCreatorNameOnly"><h2 class="ui campaign-user-name header">{{manager.first_name + ' ' + manager.last_name}}</h2><p ng-show="!public_settings.site_campaign_enable_campaign_bio">{{manager.bio}}</p><p ng-show="public_settings.site_campaign_enable_campaign_bio">{{campaign.settings.bio_enable}}</p><div class="campaign-user-links" ng-show="manager.person_websites && manager.person_websites.length"><h4 class="site-link-title ui header" translate><i class="globe icon"></i> campaign_page_wbsite_link</h4><div class="ui divided vertical list"><div class="item" ng-repeat="website in manager.person_websites"><a href="{{website.uri}}" target="_blank" class="site-link text-link">{{website.uri_text}}</a></div></div></div></div><div class="user-img-col center aligned six wide column" ng-class="{'right floated': site_campaign_hide_creator_info || isCreatorNameOnly}"><a ng-if="!site_campaign_hide_creator_info && !isCreatorNameOnly" class="user-img-wrap" href="" ng-click="showManager()"><img width="200" height="200" class="ui circular image pp_placeholder" ng-hide="manager.person_files[0]" src="images/placeholder-images/placeholder_profile_photo.png"> <img width="200" height="200" ng-if="manager.person_files[0]" ng-src="{{server + '/image/campaign_profile/' + manager.person_files[0].path_external}}" class="ui circular image" id="campaign-user-pic"></a><div class="contact-btn ui button" ng-click="showContactModal(manager);" ng-if="!removeContactUser" translate>campaign_page_contact_creator</div><div ng-if="campaign.charity_id && public_settings.site_campaign_charity_helper_enable" class="charity-badge"><img src="images/green-tick.jpg"><p>{{'charity_helper_campaign_text'| translate}}<span ng-bind="campaign.charity_id"></span></p></div></div></div></div></div><div class="ui bottom attached tab" ng-class="{active: campaign.profile_type_id == 2 && campaign.business_organizations && !campaign.toggle_profile_type_view_advance || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1 && campaign.business_organizations) || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.business_organizations && campaign.profile_type_id == 2)}" data-tab="business-profile"><div ng-repeat="company in campaign.business_organizations"><div class="campaign-company ui two column stackable grid"><div class="company-info-col ten wide column" ng-if="!site_campaign_hide_creator_info && !isCreatorNameOnly"><h2 class="ui campaign-user header">{{company.name}}</h2><p html-render html="company.description"></p><div class="campaign-company-links" ng-show="company.business_websites"><h4 class="site-link-title ui header" translate><i class="globe icon"></i>campaign_page_wbsite_link</h4><div class="ui divided vertical list"><div class="item" ng-repeat="website in company.business_websites"><a href="{{website.uri}}" target="_blank" class="site-link text-link">{{website.uri_text | limitTo : 50}}</a></div></div></div></div><div class="company-img-col center aligned six wide column" ng-class="{'right floated': site_campaign_hide_creator_info || isCreatorNameOnly}"><div class="company-img-wrap" ng-if="!site_campaign_hide_creator_info && !isCreatorNameOnly"><img width="200" height="200" class="ui circular image pp_placeholder" ng-hide="company.business_files[0]" src="images/placeholder-images/placeholder_profile_photo.png" ng-click="showManager()"> <img width="200" height="200" ng-if="company.business_files[0]" ng-src="{{server + '/image/campaign_profile/' + company.business_files[0].path_external}}" class="ui circular image" id="campaign-company-pic"></div><div class="contact-btn ui button" ng-click="showContactModal(campaign.managers[0])" translate>campaign_page_contact_creator</div><div ng-if="campaign.charity_id && public_settings.site_campaign_charity_helper_enable" class="charity-badge"><img src="images/green-tick.jpg"><p>{{'charity_helper_campaign_text'| translate}}<span ng-bind="campaign.charity_id"></span></p></div></div></div></div></div><div ng-if="!isCreatorInfoOnMainBlock" ng-include src="'views/templates/partials/contact-message-modal.a18a9b4f.html'"></div></div></div><div id="campaign-tabs"><div class="ui top attached pointing secondary menu menu-tabs mob-colps" ng-hide="hidef && hidec && hides && hideb"><a class="item active" data-tab="campaign" translate ng-click="$location.search('').replace();makeLink('Campaign')" id="campaign" ng-hide="hidef && hidec && hides && hideb">campaign_page_campaigntitle</a> <a class="item" data-tab="faq" ng-click="$location.search('').replace();makeLink('FAQ')" id="faq" ng-show="(showFaq || ((showFaq || faqs)  && public_settings.site_theme_campaign_faq_option !='2')) && !isRemoveCampaignFaq" translate>campaign_page_faq</a> <a class="item" data-tab="backers" ng-click="$location.search('').replace();makeLink('Backers')" ng-show="backer_show && !isBackersOnSidebar" id="backer">{{' campaign_page_backers' | translate}} <span class="ui label">{{backer_length}}</span> </a><a class="item" data-tab="streams" ng-click="$location.search('').replace();makeLink('Streams')" ng-show="(showStream || (($scope.showStream || campaign.streams.length) && public_settings.site_theme_campaign_stream_option !='2'))  && !isUpdatesOnMainBlock" id="stream">{{ 'campaign_page_streams' | translate}} <span class="ui label">{{campaign.streams.length}}</span> </a><a class="item" data-tab="comments" ng-click="$location.search('').replace();makeLink('Comments')" id="comment" ng-show="showComment && !isCommentsOnMainBlock && !public_settings.site_campaign_comments_display_replace_reward">{{ 'campaign_page_comments' | translate }} <span ng-if="comment_system =='custom'" class="ui label">{{sortOrFiltersComments.pagination.totalentries}}</span> </a><a href="" class="item" data-tab="files" ng-click="$location.search('').replace();makeLink('Files')" id="file" translate="campaign_page_files" ng-show="public_settings.dedicated_campaign_files && campaign.settings.campaign_files && campaign.settings.campaign_files.length"></a></div><div class="mob-view menu-tabs" ng-if="!isBackersOnSidebar && !isUpdatesOnMainBlock && !isCommentsOnMainBlock || campaign.settings.campaign_files" ng-hide="hidef && hidec && hides && hideb"><div class="ui selection dropdown"><input type="hidden" value="1"><div class="text" id="default-text" translate="campaign_page_menu_campaign"></div><i class="dropdown icon" id="iconclass" ng-show="hashcheck=='Streams' || hashcheck=='Backers'"></i> <i class="dropdown icon" id="iconclass1" ng-show="hashcheck=='Campaign' || hashcheck=='FAQ' || hashcheck=='Comments'|| hashcheck=='' "></i><div class="menu"><a class="item active" data-tab="campaign" translate ng-click="$location.search('').replace();makeLink('Campaign');tabactive('Campaign')" id="campaign" ng-hide="hidef && hidec && hides && hideb">campaign_page_campaigntitle </a><a class="item" data-tab="faq" ng-click="$location.search('').replace();makeLink('FAQ');tabactive('FAQ')" id="faq" ng-show="(showFaq || ((showFaq || faqs)  && public_settings.site_theme_campaign_faq_option !='2'))  && !isRemoveCampaignFaq" ng-if="!isRemoveCampaignFaq" translate>campaign_page_faq </a><a class="item" data-tab="backers" ng-click="$location.search('').replace();makeLink('Backers');tabactive('Backers')" ng-show="(showBacker || ((showBacker || backer_length) && public_settings.site_theme_campaign_backer_option !='2')) && !isBackersOnSidebar" id="backer">{{' campaign_page_backers' | translate}} <span class="count-label ui label">{{backer_length}}</span> </a><a class="item" data-tab="streams" ng-click="$location.search('').replace();makeLink('Streams');tabactive('Streams')" ng-show="(showStream || (($scope.showStream || campaign.streams.length) && public_settings.site_theme_campaign_stream_option !='2')) && !isUpdatesOnMainBlock" id="stream">{{ 'campaign_page_streams' | translate}} <span class="count-label ui label">{{campaign.streams.length}}</span> </a><a class="item" data-tab="comments" ng-click="$location.search('').replace();makeLink('Comments');tabactive('Comments')" id="comment" ng-show="showComment && !isCommentsOnMainBlock">{{ 'campaign_page_comments' | translate }} <span ng-if="comment_system =='custom'" class="count-label ui label">{{sortOrFiltersComments.pagination.totalentries}}</span> </a><a class="item" data-tab="files" ng-click="$location.search('').replace();makeLink('Files')" translate="campaign_page_files" ng-show="public_settings.dedicated_campaign_files && campaign.settings.campaign_files && campaign.settings.campaign_files.length"></a></div></div></div><div class="ui middle attached tab segment active" data-tab="campaign" id="campaign-seg"><div class="campaign-info ui two column stackable grid addborder"><div class="left-col ten wide column"><div class="desktop-only img-wrap campaign-image"><embed-video ng-if="campaign.video && campaign.video_type != 'custom'" class="campaign-video" ng-href="{{campaign.video}}"></embed-video><video ng-if="campaign.video && campaign.video_type == 'custom'" style="width:100%;height:100%;background:#000000" id="custom-video-player" controls><source ng-src="{{campaign.video}}"></video><img ng-hide="campaign.video" ng-if="campaign.files.length" ng-repeat="file in campaign.files | filter:{region_id: RESOURCE_REGIONS.campaign.thumbnail} | orderBy:'-file_id' | limitTo: 1" ng-src="{{server + '/image/campaign_detail_large/' + file.path_external}}" class="ui image"> <img ng-hide="campaign.video" ng-if="noMainImage" src="/images/placeholder-images/placeholder_campaign.png" class="ui image"></div><div id="sm-share-wrap" class="desktop-only ui basic segment center aligned" ng-if="is_sharing_available"><div class="share-campaign ui top left pointing dropdown green button"><span class="text" translate>campaign_page_share_this_campaign</span><div class="menu"><div class="a2a_kit a2a_kit_size_32 a2a_default_style social-media-share" data-a2a-url="{{shortenedUrl}}" ng-show="!share"><a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_email"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_dd" href="https://www.addtoany.com/share_save"></a></div><script type="text/javascript" src="https://static.addtoany.com/menu/page.js"></script></div></div><div class="embed-campaign ui floating dropdown labeled icon button" id="mob-view1"><i class="code icon"></i> <span class="text" translate>campaign_page_embed</span><div class="menu"><textarea rows="4" cols="50" ng-show="!isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}" frameborder="0" scrolling="no"> </iframe></textarea><textarea rows="4" cols="50" ng-show="isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}?privatepath={{currentLoc}}" frameborder="0" scrolling="no"> </iframe></textarea></div></div></div><div ng-show="campaign.campaign_links.length" class="desktop-only campaign-links-wrap"><div class="ui center aligned bulleted horizontal list campaign-links"><a class="item" ng-repeat="link in campaign.campaign_links | limitTo: 5" ng-href="{{link.uri}}" target="_blank"><span ng-if="link.uri_text">{{link.uri_text}}</span><span ng-if="!link.uri_text">{{link.uri}}</span></a></div></div><h3 class="campaign-page-header-title ui header" translate>campaign_page_header_title</h3><div ng-show="campaign.description" class="campaign-story"><div html-render html="campaign.description" class="fr-view"></div></div><div ng-if="noDescription" class="ui warning message"><div class="header" translate>campaign_page_nodescription</div></div><div id="stream-list" class="campaign-info addborder ui accordion" ng-Accord ng-if="isUpdatesOnMainBlock"><h3 id="streams" class="main-block-heading ui inverted block header title">{{' campaign_page_streams' | translate}} <span class="count-label ui label">{{campaign.streams.length}}</span> <i class="collapse-indicator icon"></i></h3><div class="content"><div class="ui warning message" ng-show="campaign.streams.length==0" translate>campaign_page_nostream</div><div class="stream-partial"><div class="stream-item ui segment" ng-repeat="stream in campaign.streams"><div><div id="stream-{{stream.id}}" class="stream-header"><h4 class="ui header left floated">{{'campaign_page_stream_text' | translate}} #{{campaign.streams.length - $index}}</h4><h4 class="ui header right floated">{{toDate(stream.modified)}}</h4></div><div class="stream-content"><h3 class="stream-title ui header"><a class="text-link">{{stream.title}}</a></h3><div html-render html="stream.message" id="streamfull" class="fr-view"></div></div></div></div><div class="stream-pagi"><pagination ng-show="stream_pagination.numpages.length>1" ng-model="stream_filter.page" total-items="campaign.streams.length" max-size="10" boundary-links="true" rotate="false" items-per-page="stream_pagination.entriesperpage" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination></div></div></div></div><div id="creator-info" class="ui accordion" ng-Accord ng-show="isCreatorInfoOnMainBlock && !site_campaign_hide_creator_info || isCreatorInfoTopBottomOfCampaign"><h3 class="main-block-heading ui inverted block header title">{{' campaign_page_creator_info' | translate}}<i class="collapse-indicator icon"></i></h3><div class="content"><div class="right-col seven wide column"><div class="cp-menu-tabs ui top attached tabular menu" ng-show="!site_campaign_hide_creator_info"><a class="item" data-tab="personal-profile" ng-class="{active: campaign.profile_type_id == 1 && !campaign.toggle_profile_type_view_advance || !campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 2)|| (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.profile_type_id == 1)}" ng-show="!(campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1)" translate>campaign_page_creator</a> <a class="item" data-tab="business-profile" ng-class="{active: campaign.profile_type_id == 2 && campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1)}" ng-show="(campaign.business_organizations && !campaign.toggle_profile_type_view_advance) || (campaign.toggle_profile_type_view_advance && campaign.business_organizations && (campaign.profile_type_view_id == 0 || campaign.profile_type_view_id == 1))" translate>campaign_page_company</a></div><div class="ui bottom attached tab" ng-class="{active: (campaign.profile_type_id == 1 && !campaign.toggle_profile_type_view_advance) || !campaign.business_organizations || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 2) || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.profile_type_id == 1)}" ng-show="!site_campaign_hide_creator_info" data-tab="personal-profile"><div ng-repeat="manager in campaign.managers"><div class="campaign-user ui two column stackable grid"><div class="user-info-col ten wide column" ng-if="!site_campaign_hide_creator_info"><h2 class="ui campaign-user-name header">{{manager.first_name + ' ' + manager.last_name}}</h2><p>{{manager.bio}}</p><div class="campaign-user-links" ng-show="manager.person_websites && manager.person_websites.length"><h4 class="site-link-title ui header" translate><i class="globe icon"></i> campaign_page_wbsite_link</h4><div class="ui divided vertical list"><div class="item" ng-repeat="website in manager.person_websites"><a href="{{website.uri}}" target="_blank" class="site-link text-link">{{website.uri_text}}</a></div></div></div></div><div class="user-img-col center aligned six wide column" ng-class="{'right floated': site_campaign_hide_creator_info }"><a ng-if="!site_campaign_hide_creator_info" class="user-img-wrap" href="" ng-click="showManager()"><img width="200" height="200" class="ui circular image pp_placeholder" ng-hide="manager.person_files[0]" src="images/placeholder-images/placeholder_profile_photo.png"> <img width="200" height="200" ng-if="manager.person_files[0]" ng-src="{{server + '/image/campaign_profile/' + manager.person_files[0].path_external}}" class="ui circular image" id="campaign-user-pic"></a><div class="contact-btn ui button" ng-click="showContactModal(manager);" ng-if="!removeContactUser" translate>campaign_page_contact_creator</div></div></div></div></div><div class="ui bottom attached tab" ng-class="{active: campaign.profile_type_id == 2 && campaign.business_organizations && !campaign.toggle_profile_type_view_advance || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 1 && campaign.business_organizations) || (campaign.toggle_profile_type_view_advance && campaign.profile_type_view_id == 0 && campaign.business_organizations && campaign.profile_type_id == 2)}" data-tab="business-profile"><div ng-repeat="company in campaign.business_organizations"><div class="campaign-company ui two column stackable grid"><div class="company-info-col ten wide column" ng-if="!site_campaign_hide_creator_info"><h2 class="ui campaign-user header">{{company.name}}</h2><p html-render html="company.description"></p><div class="campaign-company-links" ng-show="company.business_websites"><h4 class="site-link-title ui header" translate><i class="globe icon"></i>campaign_page_wbsite_link</h4><div class="ui divided vertical list"><div class="item" ng-repeat="website in company.business_websites"><a href="{{website.uri}}" target="_blank" class="site-link text-link">{{website.uri_text | limitTo : 50}}</a></div></div></div></div><div class="company-img-col center aligned six wide column" ng-class="{'right floated': site_campaign_hide_creator_info || isCreatorNameOnly}"><div class="company-img-wrap" ng-if="!site_campaign_hide_creator_info"><img width="200" height="200" class="ui circular image pp_placeholder" ng-hide="company.business_files[0]" src="images/placeholder-images/placeholder_profile_photo.png" ng-click="showManager()"> <img width="200" height="200" ng-if="company.business_files[0]" ng-src="{{server + '/image/campaign_profile/' + company.business_files[0].path_external}}" class="ui circular image" id="campaign-company-pic"></div><div class="contact-btn ui button" ng-click="showContactModal(campaign.managers[0]);" ng-if="!removeContactUser" translate>campaign_page_contact_creator</div></div></div></div></div><div ng-if="isCreatorInfoOnMainBlock && !site_campaign_hide_creator_info" ng-include src="'views/templates/partials/contact-message-modal.a18a9b4f.html'"></div></div></div></div><div id="backer-list" class="mobile-only campaign-info addborder ui accordion" ng-Accord ng-if="moveBackersBelowCreatorAccordionMobile"><h3 class="sidebar-heading ui inverted block header title">{{' campaign_page_backers' | translate}} <span class="count-label ui label">{{backer_length}}</span><i class="collapse-indicator icon"></i></h3><div class="backer-content content"><div class="ui warning message" ng-show="backer_length==0" translate>campaign_page_nobackers</div><div ng-repeat="backer in campaign.backers" class="campaign-backerbox" ng-class="{'no-profile-link' : isHideBackerProfileLink }" ng-click="visitProfile($index)"><div class="campaign-backer ui segment"><div class="campaign-backer-top ui two column stackable grid"><div class="left-col ten wide column"><div class="linkdiv header backer-user" id="linkdiv"><img class="ui avatar image" ng-src="{{server + '/image/campaign_profile/'+backer.person_files[0].path_external}}" ng-if="backer.person_files"> <img src="images/placeholder-images/placeholder_profile_photo.png" class="ui avatar image pp_placeholder" ng-if="!backer.person_files"> <span>{{backer.first_name}} {{backer.last_name}}</span> <span ng-show="backer.anonymous_contribution" translate>campaign_page_anonymous_backer</span></div></div><div class="right-col six wide column"><h3 class="backed-amount ui header" ng-bind-html="backer.total_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></h3></div></div><div class="backed-campaigns" ng-if="backer.total_backed<2 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaign' | translate}}</div><div class="backed-campaigns" ng-if="backer.total_backed>1 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaigns' | translate}}</div><div class="ui message" ng-repeat="pledge in backer.notes" ng-if="pledge.note"><small>{{pledge.created | formatDate:"MMMM DD, YYYY"}}</small><p>{{pledge.note}}</p></div></div></div><div class="semantic-pagination" semantic-pagination ng-model="backers_pagination.page" total-pages="backers_pagination.numpages" update-function="getBackers()"></div></div></div><div class="comments-list ui accordion" ng-Accord class="campaign-info" ng-if="isCommentsOnMainBlock"><h3 class="main-block-heading ui inverted block header active title">{{ 'campaign_page_comments' | translate }} <span ng-if="comment_system =='custom'" class="count-label ui label">{{sortOrFiltersComments.pagination.totalentries}}</span> <i class="collapse-indicator icon"></i></h3><div class="content active"><div class="insert-fb-comments" ng-if="comment_system == 'facebook'"><div id="fb-root"></div><script>(function(d, s, id) {
                          var js, fjs = d.getElementsByTagName(s)[0];
                          if (d.getElementById(id)) return;
                          js = d.createElement(s);
                          js.id = id;
                          js.src =
                            "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9";
                          fjs.parentNode.insertBefore(js, fjs);
                        }(document, 'script', 'facebook-jssdk'));</script><div class="fb-comments" data-href="{{currentAbsUrl}}" data-numposts="5"></div></div><div id="insert_disqus" ng-if="comment_system =='disqus'"></div><div class="ui comments" ng-if="comment_system =='custom'"><h3 class="ui dividing header" translate>custom_comment_header</h3><div data-ng-cloak><div class="ui selection dropdown"><input type="hidden" name="gender"><div class="text" translate>custom_comment_sort_order_descend</div><i class="dropdown icon"></i><div class="menu"><div class="item" ng-click="getComments(_,'created')" data-value="created" translate>custom_comment_sort_order_ascend</div><div class="item active selected" ng-click="getComments(_,'-created')" data-value="-created" translate>custom_comment_sort_order_descend</div></div></div><div class="item" data-ng-repeat="comment in comments track by $index"><div class="comment" ng-style="comments_background_style"><a class="avatar" ng-href="/profile/{{comment.comment_person[0].id}}" ng-if="comments_show_comment_picture && comment.comment_person[0].id != null"><img ng-if="comment.comment_person[0].person_files[0].path_external" ng-src="{{server +'/image/campaign_profile/'+ comment.comment_person[0].person_files[0].path_external}}"> <img ng-if="!comment.comment_person[0].person_files[0].path_external" ng-src="images/placeholder-images/placeholder_profile_photo.png"></a><div class="avatar" ng-if="comment.comment_person[0].id == null"><img ng-src="images/placeholder-images/placeholder_profile_photo.png"></div><div class="content"><a class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id != null" ng-href="/profile/{{comment.comment_person[0].id}}">{{comment.comment_person[0].first_name}} {{comment.comment_person[0].last_name}}</a> <span class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id == null" translate="custom_comment_anonymous_user"></span><div class="metadata"><span class="date" ng-style="comments_font_color">{{'custom_comment_time' | translate}} {{comment.created| limitTo: 19}}</span></div><div class="text subject" ng-style="comments_font_color" ng-if="comment.title">{{comment.title}}</div><div class="text" ng-style="comments_font_color">{{comment.message}}</div><div class="actions"><span ng-if="comment.person_id != user.person_id"><a class="upvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_up == 't'}" ng-click="commentAction('upvote',comment.comment_id)"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a class="downvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_down == 't'}" ng-click="commentAction('downvote',comment.comment_id)"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="reply ui label" ng-if="user.person_id" ng-click="commentAction('reply',comment.comment_person[0].first_name+' '+comment.comment_person[0].last_name)"><i class="reply icon"></i>{{'custom_comment_reply_button' | translate}}</a> </span><span ng-if="comment.person_id == user.person_id || user.person_type_id == 1"><a ng-if="comment.person_id == user.person_id" class="upvote ui label"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a ng-if="comment.person_id == user.person_id" class="downvote ui label"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="delete ui label" ng-click="openModalById('delete-comment',comment.comment_id)" translate>custom_comment_delete_button</a> <a class="update ui label" ng-click="openModalById('update-comment',comment.comment_id)" translate>custom_comment_update_button</a></span></div></div></div></div></div><div class="ui basic segment center aligned" style="margin-top:3rem" ng-show="comments.length"><div semantic-pagination ng-model="sortOrFiltersComments.page" total-pages="sortOrFiltersComments.pagination.numpages" update-function="getComments()"></div></div><div class="ui warning message" ng-show="!comments.length" translate>custom_comment_no_comment_message</div><div class="ui warning message" ng-if="!user.person_id" translate>custom_comment_login_message</div><form class="ui form" id="comment-form" validate ng-model="comment_form" ng-if="user.person_id"><div class="ui divider"></div><h2 class="ui header" translate>custom_comment_form_header</h2><div class="field"><label translate>custom_comment_form_subject</label><input type="text" name="comment_title" ng-model="comment_form.comment_title"></div><div class="field"><label translate>custom_comment_form_comment</label><textarea id="custom_comment_message" name="comment_message" ng-model="comment_form.message" required></textarea></div><div class="field"><div class="ui blue labeled submit button" ng-click="addComment(comment_form);" translate>custom_comment_form_submit</div><div class="ui checkbox" ng-model="comment_form.anonymous" ng-if="is_anonymous_available && !public_settings.custom_comment_anonymous_force"><input type="checkbox" name="anonymous"><label translate="custom_comment_anonymous_message"></label></div></div></form></div><div class="ui modal" id="vote-anonymous"><i class="close icon"></i><div class="content" translate="custom_comment_vote_anonymous_content"></div><div class="actions"><div class="ui green button" ng-click="setUpVote(true)" translate="custom_comment_vote_anonymous_action"></div><div class="ui blue button" ng-click="setUpVote(false)" translate="custom_comment_vote_not_anonymous_action"></div></div></div><div class="ui modal" id="update-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_update_form_header</h3></div><div class="content"><div class="fluid ui form"><div class="field"><label translate>custom_comment_update_form_subject</label><input type="text" ng-model="old_comment[0].title" placeholder="Subject" required></div><div class="field"><label translate>custom_comment_update_form_comment</label><textarea placeholder="Comment Text" ng-model="old_comment[0].message" required></textarea></div></div></div><div class="actions"><div class="ui green button" ng-click="updateComment(old_comment[0])" translate>custom_comment_update_form_submit</div></div></div><div class="ui small modal" id="delete-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_delete_form_header</h3></div><div class="content" translate>custom_comment_delete_form_message</div><div class="actions"><div class="ui green button" ng-click="deleteComment(current_selected_comment_id)" translate>custom_comment_delete_form_submit</div></div></div></div></div><div ng-if="moveEmbedBelowCommentsAccordionMobile" class="mobile-only embed-campaign ui floating dropdown labeled icon button huge fluid" id="mob-view1"><i class="code icon"></i> <span class="text" translate>campaign_page_embed</span><div class="menu"><textarea rows="4" cols="50" ng-show="!isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}" frameborder="0" scrolling="no"> </iframe></textarea><textarea rows="4" cols="50" ng-show="isPrivateCampaign"><iframe width="260" height="650" src="{{embed_path}}?privatepath={{currentLoc}}" frameborder="0" scrolling="no"> </iframe></textarea></div></div></div><div class="right-col six wide column" ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div><div class="ui middle attached tab segment" data-tab="faq" id="faq-seg" ng-show="!isRemoveCampaignFaq"><div class="campaign-info ui two column stackable grid addborder"><div class="left-col left floated ten wide column"><div class="ui warning message" ng-show="!FAQ || faqs==0" translate>campaign_page_nofaq</div><div class="faq-info" ng-repeat="faq in FAQ"><div class="campaign-faq-header"><h2 class="ui header">{{faq.name}}</h2><p>{{faq.description}}</p></div><div class="ui divider"></div><div class="campaign-faq-list ui accordion" ng-repeat="pair in faq.faq_pairs | orderBy: 'display_priority'" ng-Accord><div class="campaign-faq-list1"><h3 class="ui header title" id="faq-title"><i class="dropdown icon"></i> {{pair.question}}</h3><div class="content" id="faq-campaign">{{pair.answer}}</div></div></div></div></div><div class="right-col six wide column"><div ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div></div><div class="ui middle attached tab segment" data-tab="backers" id="backer-seg" ng-show="!isBackersOnSidebar"><div id="backer-list" class="campaign-info ui two column stackable grid addborder"><div class="left ten wide column"><div class="ui warning message" ng-show="backer_length==0" translate>campaign_page_nobackers</div><div ng-repeat="backer in campaign.backers" class="campaign-backerbox" ng-class="{'no-profile-link' : isHideBackerProfileLink }" ng-click="visitProfile($index)"><div class="campaign-backer ui segment"><div class="campaign-backer-top ui two column stackable grid"><div class="left-col five wide column"><div class="linkdiv header backer-user" id="linkdiv"><img class="ui avatar image" ng-src="{{server + '/image/campaign_profile/'+backer.person_files[0].path_external}}" ng-if="backer.person_files"> <img src="images/placeholder-images/placeholder_profile_photo.png" class="ui avatar image pp_placeholder" ng-if="!backer.person_files"> <span>{{backer.first_name}} {{backer.last_name}}</span> <span ng-show="backer.anonymous_contribution" translate>campaign_page_anonymous_backer</span></div></div><div class="right-col eleven wide column"><h3 class="backed-amount ui header" ng-bind-html="backer.total_amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></h3></div></div><div class="backed-campaigns" ng-if="backer.total_backed<2 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaign' | translate}}</div><div class="backed-campaigns" ng-if="backer.total_backed>1 && !isHideBackedCampaignsAmount"><i class="certificate icon"></i>{{'campaign_page_backed' | translate}} {{backer.total_backed}} {{'campaign_page_backed_campaigns' | translate}}</div><div class="ui message" ng-repeat="pledge in backer.notes" ng-if="pledge.note"><small>{{pledge.created | formatDate:"MMM DD YYYY"}}</small><p>{{pledge.note}}</p></div></div></div><div class="semantic-pagination" semantic-pagination ng-model="backers_pagination.page" total-pages="backers_pagination.numpages" update-function="getBackers()"></div></div><div class="right six wide column"><div ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div></div><div class="ui middle attached tab segment" data-tab="streams" id="stream-seg" ng-show="!isUpdatesOnMainBlock"><div id="stream-list" class="campaign-info ui two column stackable grid addborder"><div class="left-col ten wide column"><div class="ui warning message" ng-show="campaign.streams.length==0" translate>campaign_page_nostream</div><div class="stream-full" ng-show="show_section.streamDetail"><div class="ui green button" ng-click="show_section.streamDetail=false; $location.search('').replace()" translate>campaign_page_goback</div><div class="stream-full-content ui segment"><div class="stream-header"><h4 class="ui header left floated">{{'campaign_page_stream_text' | translate}} #{{stream.sindex}}</h4><h4 class="ui header right floated">{{toDate(stream.modified)}}</h4></div><h3 class="stream-title ui header">{{stream.title}}</h3><div html-render html="stream.message" id="streamfull" class="fr-view"></div></div></div><div class="stream-partial" ng-hide="show_section.streamDetail"><div class="stream-item ui segment" ng-repeat="stream in campaign.streams" ng-click="show_section.streamDetail=true;showStreamDeail(stream, campaign.streams.length - $index)"><div><div class="stream-header"><h4 class="ui header left floated">{{'campaign_page_stream_text' | translate}} #{{campaign.streams.length - $index}}</h4><h4 class="ui header right floated">{{toDate(stream.modified)}}</h4></div><div class="stream-content"><h3 class="stream-title ui header"><a class="text-link">{{stream.title}}</a></h3><div html-convert-to-text="stream.message" max-char="250"></div></div></div></div><div class="stream-pagi"><pagination ng-show="stream_pagination.numpages.length>1" ng-model="stream_filter.page" total-items="campaign.streams.length" max-size="10" boundary-links="true" rotate="false" items-per-page="stream_pagination.entriesperpage" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></pagination></div></div></div><div class="right-col six wide column"><div ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div></div><div class="ui middle attached tab segment addborder" data-tab="comments" id="comment-seg" ng-show="!isCommentsOnMainBlock && !public_settings.site_campaign_comments_display_replace_reward"><div class="campaign-info ui grid stackable"><div class="insert-fb-comments" ng-if="comment_system == 'facebook'"><div id="fb-root"></div><script>(function(d, s, id) {
                    var js, fjs = d.getElementsByTagName(s)[0];
                    if (d.getElementById(id)) return;
                    js = d.createElement(s);
                    js.id = id;
                    js.src =
                      "//connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.9";
                    fjs.parentNode.insertBefore(js, fjs);
                  }(document, 'script', 'facebook-jssdk'));</script><div class="fb-comments" data-href="{{currentAbsUrl}}" data-numposts="5"></div></div><div id="insert_disqus" ng-if="comment_system =='disqus'"></div><div ng-if="comment_system =='custom'" class="left-col ten wide column"><div class="ui comments"><h3 class="ui dividing header" translate>custom_comment_header</h3><div data-ng-cloak><div class="ui selection dropdown"><input type="hidden" name="gender"><div class="text" translate>custom_comment_sort_order_descend</div><i class="dropdown icon"></i><div class="menu"><div class="item" ng-click="getComments(_,'created')" data-value="created" translate>custom_comment_sort_order_ascend</div><div class="item active selected" ng-click="getComments(_,'-created')" data-value="-created" translate>custom_comment_sort_order_descend</div></div></div><div class="item" data-ng-repeat="comment in comments track by $index"><div class="comment" ng-style="comments_background_style"><a class="avatar" ng-href="/profile/{{comment.comment_person[0].id}}" ng-if="comments_show_comment_picture && comment.comment_person[0].id != null"><img ng-if="comment.comment_person[0].person_files[0].path_external" ng-src="{{server +'/image/campaign_profile/'+ comment.comment_person[0].person_files[0].path_external}}"> <img ng-if="!comment.comment_person[0].person_files[0].path_external" ng-src="images/placeholder-images/placeholder_profile_photo.png"></a><div class="avatar" ng-if="comment.comment_person[0].id == null"><img ng-src="images/placeholder-images/placeholder_profile_photo.png"></div><div class="content"><a class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id != null" ng-href="/profile/{{comment.comment_person[0].id}}">{{comment.comment_person[0].first_name}} {{comment.comment_person[0].last_name}}</a> <span class="author" ng-style="comments_font_color" ng-show="comment.comment_person[0].id == null" translate="custom_comment_anonymous_user"></span><div class="metadata"><span class="date" ng-style="comments_font_color">{{'custom_comment_time' | translate}} {{comment.created| limitTo: 19}}</span></div><div class="text subject" ng-style="comments_font_color" ng-if="comment.title">{{comment.title}}</div><div class="text" ng-style="comments_font_color">{{comment.message}}</div><div class="actions"><span ng-if="comment.person_id != user.person_id"><a class="upvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_up == 't'}" ng-click="commentAction('upvote',comment.comment_id)"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a class="downvote ui label" ng-class="{'active': comment.logged_in_person_has_voted_down == 't'}" ng-click="commentAction('downvote',comment.comment_id)"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="reply ui label" ng-if="user.person_id" ng-click="commentAction('reply',comment.comment_person[0].first_name+' '+comment.comment_person[0].last_name)"><i class="reply icon"></i>{{'custom_comment_reply_button' | translate}}</a> </span><span ng-if="comment.person_id == user.person_id || user.person_type_id == 1"><a ng-if="comment.person_id == user.person_id" class="upvote ui label"><i class="chevron up icon"></i>{{comment.total_votes_up}}</a> <a ng-if="comment.person_id == user.person_id" class="downvote ui label"><i class="chevron down icon"></i>{{comment.total_votes_down}}</a> <a class="delete ui label" ng-click="openModalById('delete-comment',comment.comment_id)" translate>custom_comment_delete_button</a> <a class="update ui label" ng-click="openModalById('update-comment',comment.comment_id)" translate>custom_comment_update_button</a></span></div></div></div></div></div><div class="ui basic segment center aligned" style="margin-top:3rem"><div semantic-pagination ng-model="sortOrFiltersComments.page" total-pages="sortOrFiltersComments.pagination.numpages" update-function="getComments()"></div></div><div class="ui warning message" ng-show="!comments.length" translate>custom_comment_no_comment_message</div><div class="ui warning message" ng-if="!user.person_id" translate>custom_comment_login_message</div><form class="ui form" id="comment-form" validate ng-model="comment_form" ng-if="user.person_id"><div class="ui divider"></div><h2 class="ui header" translate>custom_comment_form_header</h2><div class="field"><label translate>custom_comment_form_subject</label><input type="text" name="comment_title" ng-model="comment_form.comment_title"></div><div class="field"><label translate>custom_comment_form_comment</label><textarea id="custom_comment_message" name="comment_message" ng-model="comment_form.message" required></textarea></div><div class="field"><div class="ui blue labeled submit button" ng-click="addComment(comment_form);" translate>custom_comment_form_submit</div><div class="ui checkbox" ng-model="comment_form.anonymous" ng-if="is_anonymous_available && !public_settings.custom_comment_anonymous_force"><input type="checkbox" name="anonymous"><label translate="custom_comment_anonymous_message"></label></div></div></form></div><div class="ui modal" id="vote-anonymous"><i class="close icon"></i><div class="content" translate="custom_comment_vote_anonymous_content"></div><div class="actions"><div class="ui green button" ng-click="setUpVote(true)" translate="custom_comment_vote_anonymous_action"></div><div class="ui blue button" ng-click="setUpVote(false)" translate="custom_comment_vote_not_anonymous_action"></div></div></div><div class="ui modal" id="update-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_update_form_header</h3></div><div class="content"><div class="fluid ui form"><div class="field"><label translate>custom_comment_update_form_subject</label><input type="text" ng-model="old_comment[0].title" placeholder="Subject" required></div><div class="field"><label translate>custom_comment_update_form_comment</label><textarea placeholder="Comment Text" ng-model="old_comment[0].message" required></textarea></div></div></div><div class="actions"><div class="ui green button" ng-click="updateComment(old_comment[0])" translate>custom_comment_update_form_submit</div></div></div><div class="ui small modal" id="delete-comment"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>custom_comment_delete_form_header</h3></div><div class="content" translate>custom_comment_delete_form_message</div><div class="actions"><div class="ui green button" ng-click="deleteComment(current_selected_comment_id)" translate>custom_comment_delete_form_submit</div></div></div></div><div class="right-col six wide column" ng-if="comment_system =='custom'" ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div><div class="ui middle attached tab segment" data-tab="files" id="file-seg"><div class="campaign-info ui grid stackable"><div class="left-col ten wide column"><h3 class="ui dividing header" translate="campaign_page_files"></h3><div class="file-list ui items" ng-repeat="campaignFile in campaign.settings.campaign_files"><div class="item"><div class="ui image"><i class="huge outline icon" ng-class="campaignFile.icon"></i></div><div class="middle aligned content"><div class="header" ng-bind="campaignFile.title"></div><div class="description"><p ng-bind="campaignFile.description"></p></div><div class="extra"><a ng-href="{{server + '/static/images/' + campaignFile.path}}" target="_blank" translate="campaign_page_files_view"></a></div></div></div></div></div><div class="right-col six wide column"><div ng-include src="'views/templates/partials/campaign/pledge/campaign-pledge.a18a9b4f.html'"></div></div></div></div></div><div ng-bind-html="gaScript"></div><div class="ui modal manager-bio-modal"><i class="close icon"></i><div class="header"><h3 class="ui header" translate>campaign_page_biography</h3></div><div class="content"><div class="manager-item" ng-repeat="manager in campaign.managers"><div class="ui two column stackable grid"><div class="six wide column"><img ng-hide="manager.person_files[0]" src="images/placeholder-images/placeholder_profile_photo.png" class="ui right floated circular image"> <img ng-if="manager.person_files[0]" ng-src="{{server + '/image/campaign_profile/' + manager.person_files[0].path_external}}" class="ui right floated circular image" id="campaign-user-pic"></div><div class="ten wide column manager-name"><h3 class="ui header">{{manager.first_name}} {{manager.last_name}}</h3></div></div><div class="ui two column stackable grid"><div class="ten wide column"><p>{{manager.bio}}</p></div><div class="six wide column"><h2 class="ui header" translate>campaign_page_website</h2><div class="ui link list"><div ng-repeat="link in manager.person_websites"><a class="item" ng-href="{{link.uri}}" target="_blank">{{link.uri_text}}</a></div></div></div></div></div></div></div><script src="scripts/social-message.a18a9b4f.js" type="text/javascript"></script><div class="ui modal small user-not-found"><i class="close icon"></i><div class="content"><div class="description"><div class="ui header center aligned">User not found.</div></div></div></div><div class="ui small modal" id="confirm-reward"><i class="close icon"></i><div class="header"><h3 class="ui red center aligned header">{{'campaign_pledge_campaign_contribute_option' | translate}}</h3><div class="content"><div class="ui basic segment center aligned"><a class="ui green button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || miniContributeReward()">{{'campaign_pledge_campaign_contribute_option_1' | translate}}</a><div class="ui horizontal divider">{{'campaign_pledge_campaign_contribute_option_or' | translate}}</div><a class="ui green button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || guestContributeReward()">{{'campaign_pledge_campaign_contribute_option_2' | translate}}</a></div></div></div></div><div class="ui small modal" id="confirm-option"><i class="close icon"></i><div class="header"><h3 class="ui red center aligned header">{{'campaign_pledge_campaign_select_option' | translate}}</h3></div><div class="content"><div class="ui basic segment center aligned"><a class="ui green button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || miniContribute()">{{'campaign_pledge_campaign_contribute_option_1' | translate}}</a><div class="ui horizontal divider">{{'campaign_pledge_campaign_contribute_option_or' | translate}}</div><a class="ui green button" ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || guestContribute()">{{'campaign_pledge_campaign_contribute_option_2' | translate}}</a></div></div></div><div class="ui modal contribution-instruction"><i class="close icon"></i><div class="header" translate="campaign_pledge_instruction"></div><div class="content"><div class="description" ng-bind-html="contributionInstruction"></div></div></div><div class="ui modal rewards-popup-modal" id="reward-modal"><i class="close icon"></i><div class="header" translate="campaign_pledge_rewards"></div><div class="content"><div class="description"><ul class="rewards"><div ng-show="true" ng-click="submitContribute()" class="pledge-level"><li class="bonus-1"><div class="ui basic segment"><div class="ui basic dimmable dimmed segment reward-bg-wrap"><div class="reward-amount"><span>{{'campaign_pledge_campaign_contribute_for_no_reward'| translate}}</span></div><p class="reward-desc fr-view" ng-hide="reward_html_editor" html-render html="pledge.description"></p></div></div></li></div><div ng-show="campaign.pledges" ng-repeat="pledge in campaign.pledges_to_show | orderBy:'amount'" id="rewards-section"><div ng-click="dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || pledge.total_pledges == pledge.item_limit || (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised) || campaign.campaign_started=='f' || submitPledge(pledge)" class="pledge-level" ng-class="{'ended': dateInPast(campaign.ends,campaign.seconds_remaining) || campaign.entry_status_id != 2 || campaign.campaign_started=='f'|| (thresholdallowed && campaign.funded_amount + pledge.amount > campaign.maximum_allowed_funds_raised), 'sold-out': pledge.total_pledges == pledge.item_limit}"><li class="bonus-1"><div class="ui basic segment"><div class="ui basic dimmable dimmed segment reward-bg-wrap"><div class="ui inverted simple dimmer" ng-if="pledge.total_pledges == pledge.item_limit"><div class="content"><div class="center"><h2 class="ui icon header" translate><i class="emphasized frown icon"></i> campaign_pledge_campaign_reward_soldout</h2></div></div></div><div class="reward-amount"><span ng-bind-html="pledge.amount | formatCurrency:campaign.currencies[0].code_iso4217_alpha:public_setting.site_campaign_decimal_option"></span> <span class="currency">{{campaign.currencies[0].code_iso4217_alpha}}</span> <span style="font-size:16px" ng-show="pledge.shipping">{{'campaign_pledge_campaign_reward_shippingtext' | translate}}</span></div><h4 class="ui header">{{pledge.name}}</h4><p class="reward-desc fr-view" ng-hide="reward_html_editor" html-render html="pledge.description"></p><div ng-show="reward_html_editor" html-render html="pledge.description" class="fr-view"></div><div class="bottom"><div class="reward-backers" ng-if="pledge.total_backers>0"><i class="users icon"></i> <span class="backer-number">{{pledge.total_backers}} </span><span>{{'campaign_pledge_campaign_reward_backer' | translate}}<span ng-if="pledge.total_backers>1">s</span></span></div><div class="reward-backers" ng-if="pledge.total_backers == 0"><i class="users basic icon"></i>{{'campaign_pledge_campaign_nobacker' | translate}}</div><div class="limit" ng-if="pledge.item_limit != null">{{'campaign_pledge_campaign_reward_limited' | translate}} {{pledge.item_limit - pledge.total_pledges}} {{'campaign_pledge_campaign_reward_limited_leftoff' | translate}} {{pledge.item_limit}}</div><div class="reward-etd" ng-if="pledge.estimated_delivery_time">{{'campaign_pledge_campaign_reward_estimated_shiping' | translate}} <span class="f-delivery-date">{{pledge.estimated_delivery_time | formatDate:"MMMM YYYY"}}</span></div></div></div></div></li></div></div><div class="reward-pagination"><div semantic-pagination ng-model="rewardPagination.page" items-per-page-nav="3" total-pages="rewardPagination.pagination.numpages" update-function="filterRewards()" pagination-name="rewards"></div></div></ul></div></div></div></div></div></div></div>