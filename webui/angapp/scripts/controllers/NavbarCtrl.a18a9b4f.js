app.controller("NavbarCtrl",["$location","$route","$scope","$rootScope","Restangular","UserService","API_URL","RequestCacheService","PortalSettingsService","$translatePartialLoader","$translate",function($location,$route,$scope,$rootScope,Restangular,UserService,API_URL,RequestCacheService,PortalSettingsService,$translatePartialLoader,$translate){$scope.user=UserService,$scope.pages=[],$scope.logo_url="",$scope.headerMenu=[],$scope.logoUrl="",$scope.showLogoPlaceholder=!1,$scope.$location=$location,PortalSettingsService.getSettingsObj().then(function(success){$scope.public_setting=success.public_setting;var logo_url=success.public_setting.site_logo.path_external;$scope.payment_gateway=success.public_setting.site_payment_gateway,$scope.logoUrl=logo_url?API_URL.url+"/image/site_logo_320x80/"+logo_url:"images/placeholder-images/placeholder_logo.png","undefined"==typeof success.public_setting.site_logo_link?$scope.site_logo_link="/":$scope.site_logo_link=success.public_setting.site_logo_link,$scope.headerMenu=success.public_setting.site_menu_header,RequestCacheService.getPage().then(function(success){for(var i=0;i<$scope.headerMenu.length;i++)for(var j=0;j<success.length;j++)$scope.headerMenu[i].id==success[j].id&&("/"==success[j].path?($scope.headerMenu[i].name=success[j].name,$scope.headerMenu[i].path="/"):$scope.headerMenu[i].id&&($scope.headerMenu[i].name=success[j].name,$scope.headerMenu[i].path=success[j].path));if($scope.public_setting.site_admin_campaign_management_only)for(var i=0;i<$scope.headerMenu.length;i++)if("Start"==$scope.headerMenu[i].name&&1!=UserService.person_type_id){$scope.headerMenu.splice(i,1);break}$scope.hideCampaignNav=$scope.public_setting.site_admin_campaign_management_only&&1!=$scope.user.person_type_id}),$scope.stickyMenu=success.public_setting.site_theme_sticky_menu,$scope.enabledContribution=success.public_setting.site_campaign_contributions}),$scope.reload=function(){$route.reload()},$scope.closeMobileSidebar=function(){$("#mobile-sidebar").sidebar("hide"),$("body").removeClass("mobile-sidebar-no-scroll")},$scope.showMobileSidebar=function(){$("#mobile-sidebar").sidebar("is visible")?$("#mobile-sidebar").sidebar("hide"):($("#mobile-sidebar").sidebar("show"),$("body").addClass("mobile-sidebar-no-scroll"))}}]);